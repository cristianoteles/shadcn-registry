{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "layout",
  "type": "registry:block",
  "title": "Layout multitenacy",
  "description": "Layout multitenacy",
  "dependencies": [
    "next-themes"
  ],
  "registryDependencies": [
    "@devemp/feature-configs",
    "avatar",
    "button",
    "dialog",
    "dropdown-menu",
    "sonner"
  ],
  "files": [
    {
      "path": "registry/components/global/help-trigger.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { HelpCircle } from \"lucide-react\";\n\nexport function HelpTrigger() {\n  return (\n    <Button variant=\"ghost\" size=\"icon\" aria-label=\"Help\">\n      <HelpCircle className=\"h-5 w-5\" />\n    </Button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/help-trigger.tsx"
    },
    {
      "path": "registry/components/global/logo.tsx",
      "content": "\"use client\";\n\nimport { siteConfig } from \"@/features/devemp/configs/site\";\nimport { useOrganization } from \"@/hooks/use-organization\";\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\n\nexport function Logo() {\n  const [isClient, setIsClient] = useState(false)\n  const { organization } = useOrganization();\n\n  useEffect(() => {\n    setIsClient(true)\n  }, [])\n\n  // In a real app, you'd likely have a fallback or default logo\n  const logoSrc = organization?.branding?.logo || siteConfig.logo;\n  const orgName = organization?.name || siteConfig.name;\n\n  if (!organization || !isClient) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      <Image src={logoSrc} alt={`${orgName} Logo`} width={24} height={24} />\n      <span className=\"font-bold\">{orgName}</span>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/logo.tsx"
    },
    {
      "path": "registry/components/global/notifications-trigger.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Bell } from \"lucide-react\";\n\nexport function NotificationsTrigger() {\n  return (\n    <Button variant=\"ghost\" size=\"icon\" aria-label=\"Toggle notifications\">\n      <Bell className=\"h-5 w-5\" />\n    </Button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/notifications-trigger.tsx"
    },
    {
      "path": "registry/components/global/super-admin-return-button.tsx",
      "content": "\"use client\";\n\nimport { useSession } from \"@/components/devemp/providers/session-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Eye } from \"lucide-react\";\n\nexport function SuperAdminReturnButton() {\n  const { session } = useSession();\n\n  // This is a placeholder. In a real app, you'd have a more robust check\n  // for \"impersonation\" mode.\n  const isSuperAdmin = session?.user.roles.includes(\"super_admin\");\n  const isImpersonating = isSuperAdmin; // Mocking impersonation status\n\n  if (!isImpersonating) {\n    return null;\n  }\n\n  return (\n    <Button variant=\"ghost\" size=\"icon\" aria-label=\"Return to Super Admin\">\n      <Eye className=\"h-5 w-5 text-yellow-500\" />\n    </Button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/super-admin-return-button.tsx"
    },
    {
      "path": "registry/components/global/theme-toggle.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nexport function ThemeToggle() {\n  const { setTheme } = useTheme();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\">\n          <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/theme-toggle.tsx"
    },
    {
      "path": "registry/components/global/user-nav.tsx",
      "content": "\"use client\";\n\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useSession } from \"../providers/session-provider\";\nimport { ThemeToggle } from \"./theme-toggle\";\n\nexport function UserNav() {\n  const { session } = useSession();\n\n  if (!session) {\n    return null;\n  }\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" className=\"relative h-6 w-6 rounded-full\">\n          <Avatar className=\"h-6 w-6\">\n            <AvatarImage src={session.user.image ?? \"\"} alt={session.user.name ?? \"\"} />\n            <AvatarFallback>{session.user.name?.[0]}</AvatarFallback>\n          </Avatar>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n        <DropdownMenuLabel className=\"font-normal\">\n          <div className=\"flex flex-col space-y-1\">\n            <p className=\"text-sm font-medium leading-none\">{session.user.name}</p>\n            <p className=\"text-xs leading-none text-muted-foreground\">\n              {session.user.email}\n            </p>\n          </div>\n        </DropdownMenuLabel>\n        <DropdownMenuSeparator />\n        <DropdownMenuGroup>\n          <DropdownMenuItem>\n            Profile\n          </DropdownMenuItem>\n          <DropdownMenuItem>\n            Settings\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n        <DropdownMenuSeparator />\n        <DropdownMenuItem>\n          Log out\n        </DropdownMenuItem>\n        <DropdownMenuSeparator />\n        <div className=\"flex justify-center\">\n          <ThemeToggle />\n        </div>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/global/user-nav.tsx"
    },
    {
      "path": "registry/components/layout/app-shell.tsx",
      "content": "\"use client\";\n\nimport { Header } from \"./header\";\nimport { Sidebar } from \"./sidebar\";\nimport { useSidebar } from \"@/hooks/use-sidebar\";\nimport { Toaster } from \"@/components/ui/sonner\";\nimport { ThemeProvider } from \"../providers/theme-provider\";\nimport { SessionProvider } from \"../providers/session-provider\";\nimport { MobileNav } from \"./mobile-nav\";\n\ninterface AppShellProps {\n  children: React.ReactNode;\n}\n\nexport function AppShell({ children }: AppShellProps) {\n  const { isCollapsed, toggleSidebar } = useSidebar();\n  return (\n    <ThemeProvider\n      attribute=\"class\"\n      defaultTheme=\"system\"\n      enableSystem\n      disableTransitionOnChange\n    >\n      <SessionProvider>\n        <div className={`grid min-h-screen w-full transition-all duration-300 ${isCollapsed\n          ? \"md:grid-cols-[64px_1fr]\"\n          : \"md:grid-cols-[256px_1fr] lg:grid-cols-[288px_1fr]\"\n          }`}>\n          <Sidebar isCollapsed={isCollapsed} />\n          <div className=\"flex flex-col\">\n            <Header isCollapsed={isCollapsed} toggleSidebar={toggleSidebar} />\n            <main className=\"flex flex-1 flex-col gap-4 p-4 pt-24 md:pt-4 lg:gap-6 lg:p-6\">\n              {children}\n            </main>\n          </div>\n          <MobileNav />\n        </div>\n        <Toaster />\n      </SessionProvider>\n    </ThemeProvider>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/layout/app-shell.tsx"
    },
    {
      "path": "registry/components/layout/header.tsx",
      "content": "\"use client\";\n\nimport { UserNav } from \"../global/user-nav\";\nimport { NotificationsTrigger } from \"../global/notifications-trigger\";\nimport { HelpTrigger } from \"../global/help-trigger\";\nimport { SuperAdminReturnButton } from \"../global/super-admin-return-button\";\nimport { useOrganization } from \"@/hooks/use-organization\";\nimport { Button } from \"@/components/ui/button\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { ArrowLeftRight, Check, PanelLeftClose, PanelLeftOpen } from \"lucide-react\";\nimport { OrganizationProviderData } from \"../providers/organization-provider\";\nimport { useRouter } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\nimport { getOrganizationsUser } from \"@/features/devemp/organization/organization-service\";\nimport { OrganizationUserStorage } from \"@/features/devemp/organization/organization-user-storage\";\nimport { siteConfig } from \"@/features/devemp/configs/site\";\n\ninterface HeaderProps {\n  isCollapsed?: boolean;\n  toggleSidebar?: () => void;\n}\n\nexport function Header({ isCollapsed = false, toggleSidebar }: HeaderProps) {\n  const [isClient, setIsClient] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [organizations, setOrganizations] = useState<OrganizationProviderData[]>([]);\n  const { organization } = useOrganization();\n  const router = useRouter();\n\n  useEffect(() => {\n    setIsClient(true);\n    getOrganizationsUser().then((orgs) => {\n      setOrganizations(orgs);\n      OrganizationUserStorage.set(orgs);\n    });\n  }, []);\n\n  const handleOrgChange = (orgId: string) => {\n    OrganizationUserStorage.setCurrent(organizations.find((org) => org.id === orgId) || null);\n    router.push(`/o/${orgId}`);\n    router.refresh();\n    setDialogOpen(false);\n  };\n\n  if (!isClient) return null;\n  return (\n    <>\n      {/* Mobile Layout - Two Headers */}\n      <div className=\"md:hidden\">\n        {/* Header Superior - Aplicação */}\n        <header className=\"sticky top-0 z-40 w-full border-b bg-primary/10 backdrop-blur supports-[backdrop-filter]:bg-primary/10\">\n          <div className=\"container flex h-12 items-center\">\n            {/* App Brand */}\n            <div className=\"flex items-center space-x-2\">\n              <Image\n                src={siteConfig.logo}\n                alt={`${siteConfig.name} Logo`}\n                width={24}\n                height={24}\n                className=\"h-6 w-6\"\n              />\n              <h1 className=\"text-base font-semibold tracking-tight text-primary\">{siteConfig.name}</h1>\n            </div>\n\n            {/* Global App Actions */}\n            <div className=\"flex-1 flex items-center justify-end space-x-1\">\n              <nav className=\"flex items-center space-x-1\">\n                <SuperAdminReturnButton />\n                <NotificationsTrigger />\n                <HelpTrigger />\n                <UserNav />\n              </nav>\n            </div>\n          </div>\n        </header>\n\n        {/* Header Inferior - Organização */}\n        <header className=\"sticky top-12 z-35 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n          <div className=\"container flex h-12 items-center\">\n            {/* Organization Name Display */}\n            <div className=\"flex-1 flex items-center\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"flex h-6 w-6 items-center justify-center rounded bg-primary/10 text-xs font-medium text-primary\">\n                  {organization?.name?.charAt(0)?.toUpperCase() || 'O'}\n                </div>\n                <span className=\"text-sm font-medium text-foreground truncate max-w-[150px]\">\n                  {organization?.alias || 'Organização'}\n                </span>\n              </div>\n            </div>\n\n            {/* Organization Switch Button */}\n            <div className=\"flex items-center\">\n              <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n                <DialogTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-8 w-8 p-0 hover:bg-accent\"\n                    title=\"Trocar organização\"\n                  >\n                    <ArrowLeftRight className=\"h-4 w-4\" />\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"sm:max-w-[425px]\">\n                  <DialogHeader>\n                    <DialogTitle>Trocar Organização</DialogTitle>\n                  </DialogHeader>\n                  <div className=\"grid gap-4 py-4\">\n                    <div className=\"space-y-2\">\n                      {organizations.map((org) => (\n                        <button\n                          key={org.id}\n                          onClick={() => handleOrgChange(org.id)}\n                          className={cn(\n                            \"w-full flex items-center justify-between p-3 rounded-lg border text-left hover:bg-accent transition-colors\",\n                            organization?.id === org.id && \"border-primary bg-primary/5\"\n                          )}\n                        >\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"flex h-8 w-8 items-center justify-center rounded bg-primary/10 text-sm font-medium text-primary\">\n                              {org.name.charAt(0).toUpperCase()}\n                            </div>\n                            <div>\n                              <p className=\"font-medium\">{org.name}</p>\n                              <p className=\"text-sm text-muted-foreground\">{org.alias}</p>\n                            </div>\n                          </div>\n                          {organization?.id === org.id && (\n                            <Check className=\"h-4 w-4 text-primary\" />\n                          )}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </DialogContent>\n              </Dialog>\n            </div>\n          </div>\n        </header>\n      </div>\n\n      {/* Desktop Layout - Single Header */}\n      <header className=\"hidden md:flex sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center\">\n          {/* Sidebar Toggle */}\n          <div className=\"flex items-center\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={toggleSidebar}\n              className=\"h-8 w-8\"\n              title={isCollapsed ? \"Expandir sidebar\" : \"Recolher sidebar\"}\n            >\n              {isCollapsed ? (\n                <PanelLeftOpen className=\"h-4 w-4\" />\n              ) : (\n                <PanelLeftClose className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </div>\n\n          {/* Organization Context - Left Side */}\n          <div className=\"flex-1 flex items-center justify-start px-4\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"flex h-6 w-6 items-center justify-center rounded bg-primary/10 text-xs font-medium text-primary\">\n                {organization?.name?.charAt(0)?.toUpperCase() || 'O'}\n              </div>\n              <span className=\"text-sm font-medium text-foreground\">\n                {organization?.alias || 'Organização'}\n              </span>\n            </div>\n          </div>\n\n          {/* Organization Switch + User Actions - Right Side */}\n          <div className=\"flex items-center space-x-2\">\n            <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n              <DialogTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-8 w-8 p-0 hover:bg-accent\"\n                  title=\"Trocar organização\"\n                >\n                  <ArrowLeftRight className=\"h-4 w-4\" />\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"sm:max-w-[425px]\">\n                <DialogHeader>\n                  <DialogTitle>Trocar Organização</DialogTitle>\n                </DialogHeader>\n                <div className=\"grid gap-4 py-4\">\n                  <div className=\"space-y-2\">\n                    {organizations.map((org) => (\n                      <button\n                        key={org.id}\n                        onClick={() => handleOrgChange(org.id)}\n                        className={cn(\n                          \"w-full flex items-center justify-between p-3 rounded-lg border text-left hover:bg-accent transition-colors\",\n                          organization?.id === org.id && \"border-primary bg-primary/5\"\n                        )}\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"flex h-8 w-8 items-center justify-center rounded bg-primary/10 text-sm font-medium text-primary\">\n                            {org.name.charAt(0).toUpperCase()}\n                          </div>\n                          <div>\n                            <p className=\"font-medium\">{org.name}</p>\n                            <p className=\"text-sm text-muted-foreground\">{org.alias}</p>\n                          </div>\n                        </div>\n                        {organization?.id === org.id && (\n                          <Check className=\"h-4 w-4 text-primary\" />\n                        )}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </DialogContent>\n            </Dialog>\n            <nav className=\"flex items-center space-x-1\">\n              <SuperAdminReturnButton />\n              <NotificationsTrigger />\n              <HelpTrigger />\n              <UserNav />\n            </nav>\n          </div>\n        </div>\n      </header>\n    </>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/layout/header.tsx"
    },
    {
      "path": "registry/components/layout/mobile-nav.tsx",
      "content": "\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { Menu } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { SuperAdminReturnButton } from \"../global/super-admin-return-button\";\nimport { NotificationsTrigger } from \"../global/notifications-trigger\";\nimport { HelpTrigger } from \"../global/help-trigger\";\nimport { useOrganization } from \"@/hooks/use-organization\";\nimport { useEffect, useState } from \"react\";\nimport { mobileNav } from \"@/features/devemp/configs/nav\";\nimport { UserNav } from \"../global/user-nav\";\n\nexport function MobileNav() {\n  const [isClient, setIsClient] = useState<boolean>(false);\n\n  const { organization } = useOrganization();\n  const pathname = usePathname();\n\n  useEffect(() => setIsClient(true), []);\n  if (!isClient) return null\n\n  return (\n    <div className=\"fixed inset-x-0 bottom-0 z-50 border-t bg-background/95 backdrop-blur-sm md:hidden\">\n      <nav className=\"flex items-center justify-around p-1\">\n        {mobileNav.map((item) => {\n          const href = item.organization && organization ? `/o/${organization.id}${item.href}` : item.href;\n          return (\n            <Link\n              key={href}\n              href={href}\n              className={cn(\n                \"flex flex-col items-center gap-1 rounded-md p-2 text-sm font-medium text-muted-foreground hover:bg-muted\",\n                pathname === href && \"text-primary\"\n              )}\n            >\n              <item.icon className=\"h-5 w-5\" />\n              <span>{item.title}</span>\n            </Link>\n          )\n        })}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              className=\"flex flex-col items-center gap-1 rounded-md p-2 text-sm font-medium text-muted-foreground hover:bg-muted\"\n            >\n              <Menu className=\"h-5 w-5\" />\n              <span>Menu</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"center\" className=\"w-48\">\n            <div className=\"flex flex-col gap-2 p-2\">\n              <SuperAdminReturnButton />\n              <NotificationsTrigger />\n              <HelpTrigger />\n              <UserNav />\n            </div>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </nav>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/layout/mobile-nav.tsx"
    },
    {
      "path": "registry/components/layout/sidebar.tsx",
      "content": "\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\nimport { cn } from \"@/lib/utils\";\nimport Image from \"next/image\";\nimport { useOrganization } from \"@/hooks/use-organization\";\nimport { useEffect, useState } from \"react\";\nimport { siteConfig } from \"@/features/devemp/configs/site\";\nimport { mainNav } from \"@/features/devemp/configs/nav\";\n\ninterface SidebarProps {\n  isCollapsed?: boolean;\n}\n\nexport function Sidebar({ isCollapsed = false }: SidebarProps) {\n  const [isClient, setIsClient] = useState<boolean>(false);\n  const { organization } = useOrganization();\n  const pathname = usePathname();\n\n  useEffect(() => setIsClient(true), []);\n  if (!isClient) return null;\n\n  return (\n    <div className={cn(\n      \"hidden border-r bg-muted/40 md:block transition-all duration-300\",\n      isCollapsed ? \"w-16\" : \"w-64 lg:w-72\"\n    )}>\n      <div className=\"flex h-full max-h-screen flex-col gap-2\">\n        <div className={cn(\n          \"flex h-14 items-center border-b transition-all duration-300\",\n          isCollapsed ? \"px-2\" : \"px-4 lg:h-[60px] lg:px-6\"\n        )}>\n          {isCollapsed ? (\n            <div className=\"flex justify-center w-full\">\n              <div className=\"w-6 h-6 bg-primary rounded flex items-center justify-center\">\n                <span className=\"text-primary-foreground text-xs font-bold\">\n                  <Image\n                    src={siteConfig.logo}\n                    alt={`${siteConfig.name} Logo`}\n                    width={24}\n                    height={24}\n                    className=\"h-6 w-6\"\n                  />\n                </span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"flex items-center space-x-2\">\n              <Image\n                src={siteConfig.logo}\n                alt={`${siteConfig.name} Logo`}\n                width={24}\n                height={24}\n                className=\"h-6 w-6\"\n              />\n              <div>\n                <h2 className=\"text-sm font-semibold tracking-tight\">{siteConfig.name}</h2>\n                <p className=\"text-xs text-muted-foreground\">{siteConfig.title}</p>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"flex-1\">\n          <nav className={cn(\n            \"grid items-start text-sm font-medium transition-all duration-300\",\n            isCollapsed ? \"px-1\" : \"px-2 lg:px-4\"\n          )}>\n            {mainNav.map((item) => {\n              const href = item.organization && organization ? `/o/${organization.id}${item.href}` : item.href;\n              return (\n                <Link\n                  key={href}\n                  href={href}\n                  className={cn(\n                    \"flex items-center rounded-lg py-2 text-muted-foreground transition-all hover:text-primary\",\n                    isCollapsed\n                      ? \"justify-center px-2\"\n                      : \"gap-3 px-3\",\n                    pathname === href && \"text-primary bg-muted\"\n                  )}\n                  title={isCollapsed ? item.title : undefined}\n                >\n                  <item.icon className=\"h-4 w-4 flex-shrink-0\" />\n                  {!isCollapsed && (\n                    <span className=\"truncate\">{item.title}</span>\n                  )}\n                </Link>\n              )\n            })}\n          </nav>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/devemp/layout/sidebar.tsx"
    },
    {
      "path": "registry/components/providers/organization-provider.tsx",
      "content": "\"use client\";\n\nimport { OrganizationUserStorage } from \"@/features/devemp/organization/organization-user-storage\";\nimport React, { createContext, useContext, useMemo } from \"react\";\n\nexport type OrganizationProviderData = {\n  id: string;\n  name: string;\n  alias: string;\n  branding: {\n    logo: string,\n    primaryColor: string,\n    secondaryColor: string,\n  }\n};\n\ntype OrganizationContextType = {\n  organization: OrganizationProviderData | null;\n  loading: boolean;\n};\n\nconst OrganizationContext = createContext<OrganizationContextType | undefined>(\n  undefined\n);\n\nexport function OrganizationProvider({\n  children,\n  orgId,\n}: {\n  children: React.ReactNode;\n  orgId: string;\n}) {\n\n  ;\n  // In a real app, you would fetch the organization data based on orgId\n  const value = useMemo(\n    () => ({\n      organization: OrganizationUserStorage.getCurrent(),\n      loading: false,\n    }),\n    [orgId]\n  );\n\n  return (\n    <OrganizationContext.Provider value={value}>\n      {children}\n    </OrganizationContext.Provider>\n  );\n}\n\nexport const useOrganization = () => {\n  const context = useContext(OrganizationContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useOrganization must be used within an OrganizationProvider\"\n    );\n  }\n  return context;\n};\n",
      "type": "registry:component",
      "target": "components/devemp/providers/organization-provider.tsx"
    },
    {
      "path": "registry/components/providers/session-provider.tsx",
      "content": "\"use client\";\n\nimport React, { createContext, useContext, useMemo } from \"react\";\n\n// Mock session data\nconst mockSession = {\n  user: {\n    id: \"user-123\",\n    name: \"John Doe\",\n    email: \"john.doe@example.com\",\n    image: \"https://avatar.vercel.sh/john-doe\",\n    roles: [\"user\"], // Can be 'user', 'org_admin', 'super_admin'\n  },\n  expires: \"2030-01-01T00:00:00.000Z\",\n};\n\n// Mock organizations data\nconst mockOrganizations = [\n    { id: \"org-abc\", name: \"Acme Inc.\" },\n    { id: \"org-xyz\", name: \"Vandelay Industries\" },\n];\n\n// Context for session and organizations\ntype SessionContextType = {\n  session: typeof mockSession | null;\n  organizations: typeof mockOrganizations;\n  loading: boolean;\n};\n\nconst SessionContext = createContext<SessionContextType | undefined>(undefined);\n\nexport function SessionProvider({ children }: { children: React.ReactNode }) {\n  const value = useMemo(() => ({\n    session: mockSession,\n    organizations: mockOrganizations,\n    loading: false,\n  }), []);\n\n  return (\n    <SessionContext.Provider value={value}>{children}</SessionContext.Provider>\n  );\n}\n\nexport const useSession = () => {\n  const context = useContext(SessionContext);\n  if (context === undefined) {\n    throw new Error(\"useSession must be used within a SessionProvider\");\n  }\n  return context;\n};\n",
      "type": "registry:component",
      "target": "components/devemp/providers/session-provider.tsx"
    },
    {
      "path": "registry/components/providers/theme-provider.tsx",
      "content": "\"use client\";\n\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\nimport { type ThemeProviderProps } from \"next-themes\";\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\n}\n",
      "type": "registry:component",
      "target": "components/devemp/providers/theme-provider.tsx"
    },
    {
      "path": "registry/item/layout.tsx",
      "content": "import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport \"./globals.css\";\nimport { siteConfig } from \"@/features/devemp/configs/site\";\nimport { ThemeProvider } from \"@/components/devemp/providers/theme-provider\";\nimport { SessionProvider } from \"@/components/devemp/providers/session-provider\";\nimport { Toaster } from \"@/components/ui/sonner\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: siteConfig.name,\n  description: siteConfig.description,\n  openGraph: {\n    title: siteConfig.name,\n    description: siteConfig.description,\n    url: siteConfig.url,\n    siteName: siteConfig.name,\n  }\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"pt-br\" suppressHydrationWarning>\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n        <ThemeProvider\n          attribute=\"class\"\n          defaultTheme=\"system\"\n          enableSystem\n          disableTransitionOnChange\n        >\n          <SessionProvider>\n            {children}\n            <Toaster />\n          </SessionProvider>\n        </ThemeProvider>\n      </body>\n    </html>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/layout.tsx"
    },
    {
      "path": "registry/item/org/layout.tsx",
      "content": "import { AppShell } from \"@/registry/components/layout/app-shell\";\nimport { OrganizationProvider } from \"@/registry/components/providers/organization-provider\";\n\ninterface OrganizationLayoutProps {\n  children: React.ReactNode;\n  params: Promise<{ org: string }>;\n}\n\nexport default async function OrganizationLayout({ children, params }: OrganizationLayoutProps) {\n  const { org } = await params;\n  return (\n    <OrganizationProvider orgId={org} key={`org-${org}`}>\n      <AppShell>{children}</AppShell>\n    </OrganizationProvider>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/o/[org]/layout.tsx"
    },
    {
      "path": "registry/item/org/page.tsx",
      "content": "\nexport default function Home() {\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-black\">\n      <main className=\"flex min-h-screen w-full max-w-3xl flex-col items-center justify-between py-32 px-16 bg-white dark:bg-black sm:items-start\">\n        Home Org\n      </main>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/o/[org]/page.tsx"
    },
    {
      "path": "registry/hooks/use-organization.ts",
      "content": "\"use client\";\n\nimport { useOrganization as useOrg } from \"@/components/devemp/providers/organization-provider\";\n\nexport const useOrganization = () => {\n  return useOrg();\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/hooks/use-sidebar.ts",
      "content": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nconst SIDEBAR_STORAGE_KEY = \"sidebar-collapsed\";\n\nexport function useSidebar() {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n\n  // Load initial state from localStorage\n  useEffect(() => {\n    const stored = localStorage.getItem(SIDEBAR_STORAGE_KEY);\n    if (stored !== null) {\n      setIsCollapsed(JSON.parse(stored));\n    }\n  }, []);\n\n  // Save to localStorage whenever state changes\n  useEffect(() => {\n    localStorage.setItem(SIDEBAR_STORAGE_KEY, JSON.stringify(isCollapsed));\n  }, [isCollapsed]);\n\n  const toggleSidebar = () => {\n    setIsCollapsed((prev) => !prev);\n  };\n\n  return {\n    isCollapsed,\n    toggleSidebar,\n  };\n}\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/hooks/use-theme.ts",
      "content": "\"use client\";\n\nimport { useTheme as useNextTheme } from \"next-themes\";\n\nexport const useTheme = () => {\n  return useNextTheme();\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/features/organization/organization-service.ts",
      "content": "\"use client\"\n\nimport { OrganizationProviderData } from \"@/components/devemp/providers/organization-provider\";\n\nconst fakeOrganizations: OrganizationProviderData[] = [\n  { id: \"org-1\", name: \"Acme Corporation\", alias: \"acme\", branding: { logo: \"/logo.png\", primaryColor: \"#FFF\", secondaryColor: \"\" } },\n  { id: \"org-2\", name: \"Stark Industries\", alias: \"stark\", branding: { logo: \"/logo.png\", primaryColor: \"#AAA\", secondaryColor: \"\" } },\n  { id: \"org-3\", name: \"Wayne Enterprises\", alias: \"wayne\", branding: { logo: \"/logo.png\", primaryColor: \"#000\", secondaryColor: \"\" } },\n];\n\nexport const getOrganizationsUser = (): Promise<OrganizationProviderData[]> => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(fakeOrganizations);\n    }, 500); // Simulate network delay\n  });\n};\n",
      "type": "registry:item",
      "target": "features/organization/organization-service.ts"
    },
    {
      "path": "registry/features/organization/organization-user-storage.ts",
      "content": "\"use client\"\n\nimport { OrganizationProviderData } from \"@/components/devemp/providers/organization-provider\";\n\nconst STORAGE_KEY_ALL = \"user-organizations\";\nconst STORAGE_KEY_CURRENT = \"user-organization-current\";\n\nexport const OrganizationUserStorage = {\n  getCurrent: (): OrganizationProviderData | null => {\n    if (typeof window === \"undefined\") return null;\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY_CURRENT);\n      return stored ? JSON.parse(stored) : null;\n    } catch (error) {\n      console.error(\"Error reading from localStorage:\", error);\n      return null;\n    }\n  },\n\n  setCurrent(organization: OrganizationProviderData | null) {\n    if (typeof window === \"undefined\") return;\n    try {\n      localStorage.setItem(STORAGE_KEY_CURRENT, JSON.stringify(organization));\n    } catch (error) {\n      console.error(\"Error writing to localStorage:\", error);\n    }\n  },\n\n  getAll: (): OrganizationProviderData[] => {\n    if (typeof window === \"undefined\") return [];\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY_ALL);\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error(\"Error reading from localStorage:\", error);\n      return [];\n    }\n  },\n\n  set: (organizations: OrganizationProviderData[]): void => {\n    if (typeof window === \"undefined\") return;\n    try {\n      localStorage.setItem(STORAGE_KEY_ALL, JSON.stringify(organizations));\n    } catch (error) {\n      console.error(\"Error writing to localStorage:\", error);\n    }\n  },\n\n  add: (organization: OrganizationProviderData): void => {\n    const current = OrganizationUserStorage.getAll();\n    const exists = current.some((org) => org.id === organization.id);\n    if (!exists) {\n      OrganizationUserStorage.set([...current, organization]);\n    }\n  },\n\n  remove: (organizationId: string): void => {\n    const current = OrganizationUserStorage.getAll();\n    const filtered = current.filter((org) => org.id !== organizationId);\n    OrganizationUserStorage.set(filtered);\n  },\n\n  clear: (): void => {\n    if (typeof window === \"undefined\") return;\n    localStorage.removeItem(STORAGE_KEY_ALL);\n    localStorage.removeItem(STORAGE_KEY_CURRENT);\n  },\n};\n",
      "type": "registry:item",
      "target": "features/organization/organization-user-storage.ts"
    }
  ]
}